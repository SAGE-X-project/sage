# SAGE Agent Initialization Examples

μ΄ λ””λ ‰ν† λ¦¬λ” SAGE μ—μ΄μ „νΈκ°€ ν”„λ΅κ·Έλ¨ μ‹μ‘ μ‹ ν‚¤λ¥Ό μλ™μΌλ΅ κ΄€λ¦¬ν•λ” λ°©λ²•μ„ λ³΄μ—¬μ£Όλ” μμ‹λ“¤μ…λ‹λ‹¤.

## π“ μμ‹ νμΌλ“¤

### 1. `main.go` - μ™„μ „ν• μ—μ΄μ „νΈ μ΄κΈ°ν™”
- μ™„μ „ν• ν‚¤ κ΄€λ¦¬ μ‹μ¤ν…
- λΈ”λ΅μ²΄μΈ λ“±λ΅ κΈ°λ¥
- μƒμ„Έν• μ—λ¬ μ²λ¦¬
- ν”„λ΅λ•μ… μ¤€λΉ„ μ½”λ“

### 2. `../simple-agent-init/main.go` - κ°„λ‹¨ν• μ—μ΄μ „νΈ μ΄κΈ°ν™”
- κ°„λ‹¨ν•κ³  μ΄ν•΄ν•κΈ° μ‰¬μ΄ μ½”λ“
- κΈ°λ³Έμ μΈ ν‚¤ κ΄€λ¦¬
- λ©”μ‹μ§€ μ„λ… λ°λ¨
- ν•™μµμ© μμ‹

## π€ λΉ λ¥Έ μ‹μ‘

### κ°„λ‹¨ν• μμ‹ μ‹¤ν–‰

```bash
cd simple-agent-init
go run main.go
```

### μ™„μ „ν• μμ‹ μ‹¤ν–‰

```bash
# κΈ°λ³Έ μ‹¤ν–‰ (ν‚¤λ§ μƒμ„±/λ΅λ“)
go run main.go

# λΈ”λ΅μ²΄μΈ λ“±λ΅ ν¬ν•¨
REGISTER_ON_CHAIN=true go run main.go
```

## π”‘ ν‚¤ κ΄€λ¦¬ κΈ°λ¥

### μλ™ ν‚¤ κ°μ§€
- ν”„λ΅κ·Έλ¨ μ‹μ‘ μ‹ ν‚¤ νμΌ μ΅΄μ¬ μ—¬λ¶€ ν™•μΈ
- κΈ°μ΅΄ ν‚¤κ°€ μμΌλ©΄ μλ™μΌλ΅ λ΅λ“
- ν‚¤κ°€ μ—†μΌλ©΄ μƒλ΅ μƒμ„±

### μ§€μ›ν•λ” ν‚¤ νƒ€μ…
- **ECDSA (secp256k1)**: μ΄λ”λ¦¬μ›€ νΈν™μ„±
- **Ed25519**: κ³ μ„±λ¥ μ„λ…
- **X25519**: ν‚¤ κµν™ λ° μ•”νΈν™”

### ν‚¤ νμΌ μ €μ¥
```
keys/
β”β”€β”€ ecdsa.key      # ECDSA κ°μΈν‚¤ (PEM ν•μ‹)
β”β”€β”€ ed25519.key    # Ed25519 κ°μΈν‚¤ (λ°”μ΄λ„λ¦¬)
β””β”€β”€ x25519.key     # X25519 κ°μΈν‚¤ (λ°”μ΄λ„λ¦¬)
```

## π’΅ μ‚¬μ©λ²•

### 1. μ—μ΄μ „νΈ μƒμ„±

```go
// κ°„λ‹¨ν• λ°©λ²•
agent, err := NewSimpleAgent("my-agent", "./keys")
if err != nil {
    log.Fatal(err)
}

// μ™„μ „ν• λ°©λ²•
agent, err := NewAgent("my-agent", "./keys")
if err != nil {
    log.Fatal(err)
}
```

### 2. ν‚¤ μ‚¬μ©

```go
// λ©”μ‹μ§€ μ„λ…
message := []byte("Hello, World!")
signature := agent.SignMessage(message)

// μ„λ… κ²€μ¦
valid := agent.VerifyMessage(message, signature)

// κ³µκ°ν‚¤ κ°€μ Έμ¤κΈ°
ecdsaPub, ed25519Pub, x25519Pub, err := agent.GetPublicKeys()
```

### 3. λΈ”λ΅μ²΄μΈ λ“±λ΅

```go
// μ—μ΄μ „νΈλ¥Ό λΈ”λ΅μ²΄μΈμ— λ“±λ΅
err := agent.RegisterOnBlockchain(
    "0x...",                    // μ»¨νΈλ™νΈ μ£Όμ†
    "http://localhost:8545",    // RPC URL
    "0x...",                    // κ°μΈν‚¤
)
```

## π”§ ν™κ²½ λ³€μ

### ν•„μ λ³€μ (λΈ”λ΅μ²΄μΈ λ“±λ΅ μ‹)
```bash
export REGISTRY_ADDRESS="0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9"
export RPC_URL="http://localhost:8545"
export PRIVATE_KEY="0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80"
```

### μ„ νƒμ  λ³€μ
```bash
export REGISTER_ON_CHAIN="true"  # λΈ”λ΅μ²΄μΈ λ“±λ΅ ν™μ„±ν™”
```

## π—οΈ μ•„ν‚¤ν…μ²

### ν‚¤ κ΄€λ¦¬ ν”λ΅μ°

```
ν”„λ΅κ·Έλ¨ μ‹μ‘
     β†“
ν‚¤ λ””λ ‰ν† λ¦¬ ν™•μΈ
     β†“
ν‚¤ νμΌ μ΅΄μ¬? β”€β”€Yesβ”€β”€β†’ κΈ°μ΅΄ ν‚¤ λ΅λ“
     β†“ No
μƒ ν‚¤ μƒμ„±
     β†“
ν‚¤ νμΌ μ €μ¥
     β†“
μ—μ΄μ „νΈ μ΄κΈ°ν™” μ™„λ£
```

### μ—μ΄μ „νΈ κµ¬μ΅°

```go
type Agent struct {
    Name        string              // μ—μ΄μ „νΈ μ΄λ¦„
    DID         string              // λ¶„μ‚° μ‹λ³„μ
    KeyDir      string              // ν‚¤ μ €μ¥ λ””λ ‰ν† λ¦¬
    ECDSAKey    *ecdsa.PrivateKey   // ECDSA κ°μΈν‚¤
    Ed25519Key  ed25519.PrivateKey  // Ed25519 κ°μΈν‚¤
    X25519Key   []byte              // X25519 κ°μΈν‚¤
    IsInitialized bool              // μ΄κΈ°ν™” μƒνƒ
}
```

## π›΅οΈ λ³΄μ• κ³ λ ¤μ‚¬ν•­

### ν‚¤ νμΌ κ¶ν•
- λ¨λ“  ν‚¤ νμΌμ€ `0600` κ¶ν•μΌλ΅ μ €μ¥
- ν‚¤ λ””λ ‰ν† λ¦¬λ” `0700` κ¶ν•μΌλ΅ μƒμ„±

### ν‚¤ μ €μ¥ μ„μΉ
- ν”„λ΅λ•μ…μ—μ„λ” μ•μ „ν• μ„μΉ μ‚¬μ©
- μ: `/etc/sage/keys/`, `~/.sage/keys/`

### ν‚¤ λ°±μ—…
- ν‚¤ νμΌμ„ μ•μ „ν•κ² λ°±μ—…
- ν‚¤ μ†μ‹¤ μ‹ λ³µκµ¬ λ¶κ°€λ¥

## π§ ν…μ¤νΈ

### μ²« μ‹¤ν–‰ (ν‚¤ μƒμ„±)
```bash
go run main.go
# μƒλ΅μ΄ ν‚¤λ“¤μ΄ μƒμ„±λ©λ‹λ‹¤
```

### λ‘ λ²μ§Έ μ‹¤ν–‰ (ν‚¤ λ΅λ“)
```bash
go run main.go
# κΈ°μ΅΄ ν‚¤λ“¤μ΄ λ΅λ“λ©λ‹λ‹¤
```

### ν‚¤ νμΌ μ‚­μ  ν›„ μ‹¤ν–‰
```bash
rm -rf keys/
go run main.go
# μƒλ΅μ΄ ν‚¤λ“¤μ΄ λ‹¤μ‹ μƒμ„±λ©λ‹λ‹¤
```

## π“ μ¶”κ°€ λ¦¬μ†μ¤

- [SAGE λ©”μΈ λ¬Έμ„](../../../README.md)
- [DID κ΄€λ¦¬ κ°€μ΄λ“](../../../docs/did/)
- [μ•”νΈν™” κ°€μ΄λ“](../../../docs/crypto/)
- [A2A ν†µν•© μμ‹](../a2a-integration/)

## π¤ κΈ°μ—¬ν•κΈ°

λ²„κ·Έ λ¦¬ν¬νΈλ‚ κΈ°λ¥ μ”μ²­μ€ [GitHub Issues](https://github.com/sage-x-project/sage/issues)μ— μ μ¶ν•΄μ£Όμ„Έμ”.

## π“„ λΌμ΄μ„ μ¤

LGPL-3.0 - μμ„Έν• λ‚΄μ©μ€ [LICENSE](../../../LICENSE)λ¥Ό μ°Έμ΅°ν•μ„Έμ”.
