# SAGE Environment Configuration Example
# Copy this file to .env and configure for your environment

# ============================================================================
# SAGE Application Configuration
# ============================================================================

# Application version (auto-detected from git if not set)
VERSION=dev

# HTTP server port
SAGE_PORT=8080

# Prometheus metrics port
SAGE_METRICS_PORT=9090

# Network type: local, sepolia, mainnet
SAGE_NETWORK=local

# Chain ID (1337 for local, 11155111 for Sepolia, 1 for mainnet)
SAGE_CHAIN_ID=1337

# ============================================================================
# Blockchain Configuration
# ============================================================================

# Local development blockchain ports
BLOCKCHAIN_RPC_PORT=8545
BLOCKCHAIN_WS_PORT=8546

# Ethereum RPC URL (use blockchain service in docker-compose)
ETHEREUM_RPC_URL=http://blockchain:8545

# Network-specific RPC URLs (optional, for production)
# Sepolia testnet
SEPOLIA_RPC_URL=

# Kaia network
KAIA_RPC_URL=

# ============================================================================
# Smart Contract Addresses (set after deployment)
# ============================================================================

# SAGE Registry V2 contract address
SAGE_REGISTRY_ADDRESS=

# ERC-8004 Validation Registry contract address
ERC8004_REGISTRY_ADDRESS=

# ============================================================================
# Session Management
# ============================================================================

# Maximum session lifetime
SESSION_MAX_AGE=1h

# Session idle timeout (inactive sessions)
SESSION_IDLE_TIMEOUT=10m

# How often to cleanup expired sessions
SESSION_CLEANUP_INTERVAL=30s

# ============================================================================
# Security Configuration
# ============================================================================

# Nonce time-to-live (replay attack prevention)
NONCE_TTL=5m

# Maximum allowed clock skew for timestamp validation
MAX_CLOCK_SKEW=5m

# ============================================================================
# Logging
# ============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, text
LOG_FORMAT=json

# ============================================================================
# Redis Configuration (optional, for session caching)
# ============================================================================

# Redis port
REDIS_PORT=6379

# Redis URL (if using external Redis)
# REDIS_URL=redis://localhost:6379

# ============================================================================
# Monitoring (optional)
# ============================================================================

# Prometheus port
PROMETHEUS_PORT=9091

# Grafana web UI port
GRAFANA_PORT=3000

# Grafana admin credentials
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# ============================================================================
# Build Configuration (for CI/CD)
# ============================================================================

# Build timestamp (auto-generated if not set)
BUILD_DATE=

# Docker image registry (for multi-arch builds)
# DOCKER_REGISTRY=registry.example.com

# Build platforms (comma-separated)
# PLATFORMS=linux/amd64,linux/arm64

# ============================================================================
# Auth0 Configuration (for Integration Tests - Optional)
# ============================================================================

# Agent 1 Configuration
AUTH0_DOMAIN_1=your-domain-1.auth0.com
AUTH0_CLIENT_ID_1=your-client-id-1
AUTH0_CLIENT_SECRET_1=your-client-secret-1
TEST_DID_1=did:sage:agent1
IDENTIFIER_1=https://api.example.com/agent1
AUTH0_KEY_ID_1=key-1

# Agent 2 Configuration
AUTH0_DOMAIN_2=your-domain-2.auth0.com
AUTH0_CLIENT_ID_2=your-client-id-2
AUTH0_CLIENT_SECRET_2=your-client-secret-2
TEST_DID_2=did:sage:agent2
IDENTIFIER_2=https://api.example.com/agent2
AUTH0_KEY_ID_2=key-2

# ============================================================================
# Legacy/Alternative Blockchain Configuration (Optional)
# ============================================================================

# Ethereum private key for testing
ETHEREUM_PRIVATE_KEY=your-private-key-hex

# Local contract address (hardhat deployment)
ETHEREUM_CONTRACT_ADDRESS=0x5FbDB2315678afecb367f032d93F642f64180aa3

# Solana Configuration (if using Solana)
SOLANA_RPC_URL=http://localhost:8899
SOLANA_PROGRAM_ID=your-program-id
SOLANA_PRIVATE_KEY=your-private-key-base58